

# evio-library-connections

A Node.js library that wraps [mongoose](https://mongoosejs.com/) for MongoDB connections, providing utility methods for database operations with retry logic and connection management.

## Features

- Utility functions for connecting, closing, and managing MongoDB connections
- Retry logic for failed connections
- Methods for CRUD operations: insert, find, update, delete, aggregate, bulk write, and upsert
- TypeScript support
- Strict linting and formatting with ESLint and Prettier

## Installation

Clone this repository and run:

```bash
npm install
npm run build
```

## Usage

Import and use the connection utilities in your Node.js project:

```typescript
import connections from 'evio-library-connections';

// Connect to MongoDB
await connections.connect({ uri: 'mongodb://localhost:27017/mydb' });

// Insert a document
await connections.insertDocument('MyCollection', { name: 'Test' });

// Find documents
const docs = await connections.findDocuments('MyCollection', {});

// Close connection
await connections.close();
```

## Scripts

- `npm run build` - Compile TypeScript to JavaScript
- `npm run lint` - Run ESLint
- `npm run format` - Format code with Prettier
- `npm run test:watch` - Run Vitest in watch mode
- `npm run test:pipeline` - Run Vitest once
- `npm run start` - Run the compiled code
- `npm run start:local` - Install, build, and run locally

## Development

- TypeScript strict mode enabled
- ESLint and Prettier configured

## License

ISC
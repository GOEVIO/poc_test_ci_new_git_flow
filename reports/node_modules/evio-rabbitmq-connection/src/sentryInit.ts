import * as Sentry from '@sentry/node';
import * as appData from '../package.json';

export const sentryInit = () => {
    Sentry.init({
        dsn: process.env.SENTRY_RABBIT_DSN || '',
        tracesSampleRate: Number(process.env.SENTRY_TRACE_SAMPLE_RATE) || 0.01,
        profilesSampleRate: Number(process.env.SENTRY_PROFILES_SAMPLE_RATE) || 0.01,
        environment: process.env.NODE_ENV,
        release: `${appData.name}@${appData.version}`,
        integrations: [
            Sentry.nodeContextIntegration()
        ]
    })
}
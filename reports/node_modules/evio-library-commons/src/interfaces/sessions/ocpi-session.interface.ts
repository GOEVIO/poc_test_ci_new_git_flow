import { IAddress } from '../adrees.interface'
import { IEVKms, INotificationHistory, IReadingPoint, ISessionSimulation } from './shared-session-data.interface'

export interface ISchedulesCEMESchedules {
  period?: string
  weekDays?: string
  season?: string
  tariffType?: string
  startTime?: string
  endTime?: string
}

export interface ISchedulesCEME {
  id: string
  country?: string
  tariffType?: string
  cycleType?: string
  schedules?: ISchedulesCEMESchedules[]
}

export interface ITariffTARTariffs {
  uom?: string
  tariffType?: string
  voltageLevel?: string
  price?: number
}

export interface ITariffTAR {
  id?: string
  country?: string
  timeZone?: string
  tariffType?: string
  tariff?: ITariffTARTariffs[]
}

export interface IInvoiceLine {
  code?: string
  description?: string
  unitPrice?: number
  uom?: string
  quantity?: number
  vat?: number
  discount?: number
  total?: number
  taxExemptionReasonCode?: string
  createdAt?: Date
  updatedAt?: Date
}

export interface IFeedBack {
  questionCode?: string
  value?: number
  auxiliaryText?: string
}

export interface ITariffTranslation {
  language?: string
  text?: string
}

export interface IPriceModel {
  excl_vat?: number
  incl_vat?: number
}

export interface IVatPrice {
  vat?: number
  value?: number
}

export interface IOthersPrice {
  description?: string
  price?: IPriceModel
}

export interface IDimensionsPriceDetail {
  flatPrice?: IPriceModel
  timePrice?: IPriceModel
  powerPrice?: IPriceModel
  parkingTimePrice?: IPriceModel
}

export interface IFinalPricesModel {
  opcPrice?: IPriceModel
  opcPriceDetail?: IDimensionsPriceDetail
  cemePrice?: IPriceModel
  cemePriceDetail?: {
    flatPrice?: IPriceModel
    timePrice?: IPriceModel
    powerPrice?: IPriceModel
  }
  tarPrice?: IPriceModel
  iecPrice?: IPriceModel
  vatPrice?: IVatPrice
  othersPrice?: IOthersPrice[]
  dimensionsPriceDetail?: IDimensionsPriceDetail
  totalPrice?: IPriceModel
}

export interface IPriceRoundModel {
  round_granularity?: string
  round_rule?: string
}

export interface IStepRoundModel {
  round_granularity?: string
  round_rule?: string
}

export interface IPriceComponent {
  type?: string
  price?: number
  vat?: number
  step_size?: number
  price_round?: IPriceRoundModel
  step_round?: IStepRoundModel
}

export interface ITariffRestrictions {
  start_date?: string
  end_date?: string
  start_time?: string
  end_time?: string
  min_kwh?: number
  max_kwh?: number
  min_current?: number
  max_current?: number
  min_power?: number
  max_power?: number
  min_duration?: number
  max_duration?: number
  day_of_week?: string[]
  reservation?: string
}

export interface ITariffElement {
  price_components?: IPriceComponent[]
  restrictions?: ITariffRestrictions
}

export interface ITariffsOPCModel {
  country_code?: string
  party_id?: string
  id?: string
  currency?: string
  type?: string
  tariff_alt_text?: ITariffTranslation[]
  min_price?: IPriceModel
  elements?: ITariffElement[]
  start_date_time?: string
  end_date_time?: string
  last_updated?: string
  createdAt?: Date
  updatedAt?: Date
}

export interface ITariffModel {
  power?: string
  uom?: string
  type?: string
  tariffType?: string
  voltageLevel?: string
  price?: number
}

export interface ITariffsHistoryModel {
  startDate?: string
  stopDate?: string
  tariff?: ITariffModel[]
}

export interface IActivationFee {
  currency?: string
  value?: number
}

export interface ITariffCEMEModel {
  country?: string
  region?: string
  currency?: string
  partyId?: string
  evseGroup?: string
  CEME?: string
  tariffType?: string
  cycleType?: string
  planName?: string
  tariff?: ITariffModel[]
  tariffEGME?: number
  tariffsHistory?: ITariffsHistoryModel[]
  activationFee?: IActivationFee
  activationFeeAdHoc?: IActivationFee
}

export interface ICDRToken {
  uid: string
  type: string
  contract_id: string
}

export interface ICDRDimension {
  type: string
  volume: number
}

export interface IChargerPeriods {
  start_date_time: string
  tariff_id: string
  dimensions: ICDRDimension[]
}

export interface IOCPISession {
  userId?: string
  evId?: string
  evOwner?: string
  invoice?: { processed?: boolean; documentNumber?: string }
  invoiceType?: string
  invoiceCommunication?: string
  operator?: string
  chargeOwnerId?: string
  chargerType?: string
  source?: string
  country_code?: string
  party_id?: string
  id?: string
  start_date_time?: string
  end_date_time?: string
  local_start_date_time?: string
  local_end_date_time?: string
  kwh?: number
  cdr_token?: ICDRToken
  auth_method?: string
  token_uid?: string
  token_type?: string
  location_id?: string
  evse_uid?: string
  connector_id?: string
  currency?: string
  charging_periods?: IChargerPeriods[]
  readingPoints?: IReadingPoint[]
  total_cost?: IPriceModel
  status?: string
  authorization_reference?: string
  responseTimeout?: number
  displayText?: { language?: string; text?: string }
  statusCode?: string
  suspensionReason?: string
  commandResultStart?: string
  commandResultStop?: string
  notes?: string
  last_updated?: string
  stoppedByOwner?: boolean
  rating?: number
  command?: string
  cdrId?: string
  paymentId?: string
  paymentStatus?: string
  paymentSubStatus?: string
  paymentType?: string
  paymentMethod?: string
  paymentMethodId?: string
  walletAmount?: number
  reservedAmount?: number
  confirmationAmount?: number
  userIdWillPay?: string
  userIdToBilling?: string
  adyenReference?: string
  transactionId?: string
  invoiceStatus?: boolean
  invoiceSubStatus?: string
  invoiceId?: string
  invoiceLines?: IInvoiceLine[]
  autoStop?: { uom?: string; value?: number }
  feedBack?: IFeedBack[]
  feedBackText?: string
  batteryCharged?: number
  timeCharged?: number
  CO2Saved?: number
  totalPower?: number
  tariffOPC?: ITariffsOPCModel
  tariffCEME?: ITariffCEMEModel
  finalPrices?: IFinalPricesModel
  voltageLevel?: string
  timeZone?: string
  viesVAT?: boolean
  sessionSync?: boolean
  fees?: { IEC?: number; IVA?: number; countryCode?: string }
  minimumBillingConditions?: boolean
  address?: IAddress
  cpoCountryCode?: string
  unlockResult?: boolean
  billingPeriod?: string
  createdWay?: string
  clientName?: string
  endOfEnergyDate?: string
  schedulesCEME?: ISchedulesCEME
  tariffTAR?: ITariffTAR
  plugPower?: number
  roamingTransactionID?: string
  roamingTariffID?: string
  roamingOperatorID?: string
  roamingStartEnergy?: string
  roamingStopCharging?: string
  roamingCO2?: string
  plugVoltage?: number
  plafondId?: string
  cardNumber?: string
  syncToPlafond?: boolean
  discount?: number
  clientType?: string
  evDetails?: object
  fleetDetails?: object
  userIdInfo?: object
  userIdWillPayInfo?: object
  userIdToBillingInfo?: object
  notificationsHistory?: INotificationHistory[]
  acceptKMs?: boolean
  updateKMs?: boolean
  reservationPay?: boolean
  evKms?: IEVKms
  userCoordinates?: {
    type?: string
    coordinates?: [number, number]
  }
  message?: string
  errorType?: string
  commandResponseDate?: Date
  sessionSimulation?: ISessionSimulation
  createdAt?: Date
  updatedAt?: Date
  deviceIdentifier?: string
}

import { safeParseString } from '../strings'

/**
 * Tries to parse a value to a date, if it fails to create a valid date it returns
 * undefined. Else returns the date.
 */
export function safeParseDate(value: unknown): Date | undefined {
  const dateStringAttempt = safeParseString(value)
  if (!dateStringAttempt) {
    return undefined
  }
  const dateAttempt = new Date(dateStringAttempt)
  if (isNaN(Number(dateAttempt))) {
    return undefined
  }
  return dateAttempt
}

export default safeParseDate

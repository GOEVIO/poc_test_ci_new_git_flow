"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getVATandContryCode = getVATandContryCode;
const BillingProfileClientType_1 = __importDefault(require("../enums/BillingProfileClientType"));
function getVATandContryCode(billingProfile, chargerContryCode, countryVAT, userZoneVat) {
    try {
        const portugueseUser = billingProfile?.billingAddress?.countryCode === "PT";
        if (!portugueseUser && billingProfile.viesVAT) {
            return { VAT: 0, countryCode: chargerContryCode };
        }
        if (billingProfile.clientType === BillingProfileClientType_1.default.Business && chargerContryCode !== "PT" && portugueseUser) {
            return { VAT: userZoneVat, countryCode: billingProfile?.billingAddress?.countryCode };
        }
        return { VAT: countryVAT, countryCode: chargerContryCode };
    }
    catch (error) {
        console.log(`[function getVATwithViesVAT] error ${error}`);
        return { VAT: countryVAT, countryCode: chargerContryCode };
    }
}
//# sourceMappingURL=vat.js.map